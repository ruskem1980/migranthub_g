# QA Checklist - Полная проверка MigrantHub

## Обнаруженные ошибки (требуют исправления)

### КРИТИЧЕСКИЕ
| # | Ошибка | Статус |
|---|--------|--------|
| 1 | FAQ страница: 12 вопросов вместо 22 (потеряно 10) | ❌ Требует исправления |
| 2 | FAQ: отсутствует категория РВП (4 вопроса) | ❌ Требует исправления |

---

## Навигация

### 1. Нижняя навигация (BottomNavigation)
**Файл:** `src/components/ui/BottomNavigation.tsx`

#### Для анонимных пользователей:
| # | Пункт | Маршрут | Иконка | Проверить |
|---|-------|---------|--------|-----------|
| 1.1 | Главная | `/` | Home | ☐ Переход работает |
| 1.2 | Чек-лист | `/checklist` | ClipboardList | ☐ Переход работает |
| 1.3 | Проверки | `/checks` | Search | ☐ Переход работает |
| 1.4 | SOS | `/sos` | Phone (красный, пульс) | ☐ Переход работает, анимация |
| 1.5 | Войти | `/login` | LogIn | ☐ Переход работает |

#### Для зарегистрированных пользователей:
| # | Пункт | Маршрут | Иконка | Проверить |
|---|-------|---------|--------|-----------|
| 1.6 | Главная | `/` | Home | ☐ Переход работает |
| 1.7 | Документы | `/documents` | FileText | ☐ Переход работает |
| 1.8 | Проверки | `/checks` | Search | ☐ Переход работает |
| 1.9 | SOS | `/sos` | Phone (красный, пульс) | ☐ Переход работает |
| 1.10 | Профиль | `/profile` | User | ☐ Переход работает |

---

## Страницы и функции

### 2. Главная страница (`/`)
**Файл:** `src/app/(main)/page.tsx`

#### 2.1 Анонимный дашборд (AnonymousDashboard)
**Файл:** `src/components/anonymous/AnonymousDashboard.tsx`

| # | Элемент | Проверить |
|---|---------|-----------|
| 2.1.1 | Header | ☐ Отображается корректно |
| 2.1.2 | SOS кнопка | ☐ Переход на /sos |
| 2.1.3 | Переключатель дашбордов | ☐ Переключение анон/персональный |

##### Секция калькуляторов:
| # | Калькулятор | Проверить |
|---|-------------|-----------|
| 2.1.4 | 90/180 дней | ☐ Открывается, расчёт работает |
| 2.1.5 | Стоимость патента | ☐ Открывается, расчёт работает |

##### Секция проверок:
| # | Проверка | Проверить |
|---|----------|-----------|
| 2.1.6 | Запрет на въезд | ☐ Модал открывается, форма работает |
| 2.1.7 | Проверка паспорта | ☐ Модал открывается |
| 2.1.8 | Проверка патента | ☐ Модал открывается |
| 2.1.9 | Проверка ИНН | ☐ Модал открывается |

##### Секция "Полезное":
| # | Карточка | Маршрут | Проверить |
|---|----------|---------|-----------|
| 2.1.10 | Чек-лист мигранта | `/checklist` | ☐ Переход работает |
| 2.1.11 | Экзамен | `/exam` | ☐ Переход, badge "10 бесплатно" |
| 2.1.12 | AI помощник | `/ai` | ☐ Переход, badge "3 бесплатно" |
| 2.1.13 | FAQ | `/faq` | ☐ Переход работает |

| 2.1.14 | Баннер конверсии | ☐ Отображается, кнопка работает |

#### 2.2 Персональный дашборд (PersonalDashboard)
**Файл:** `src/components/personal/PersonalDashboard.tsx`

| # | Элемент | Проверить |
|---|---------|-----------|
| 2.2.1 | Персональный заголовок | ☐ Имя пользователя отображается |
| 2.2.2 | Карточка статуса | ☐ Legal/Warning/Illegal статус |
| 2.2.3 | Секция сроков | ☐ Дедлайны отображаются |
| 2.2.4 | Секция документов | ☐ Документы отображаются |
| 2.2.5 | Быстрые действия | ☐ Кнопки работают |

---

### 3. Чек-лист (`/checklist`)
**Файл:** `src/app/(main)/checklist/page.tsx`

| # | Элемент | Проверить |
|---|---------|-----------|
| 3.1 | Заголовок страницы | ☐ Локализация работает |
| 3.2 | Миграционная карта | ☐ Чекбокс, описание |
| 3.3 | Регистрация | ☐ Чекбокс, описание |
| 3.4 | Патент | ☐ Чекбокс, описание |
| 3.5 | Медосмотр | ☐ Чекбокс, описание |
| 3.6 | Дактилоскопия | ☐ Чекбокс, описание |
| 3.7 | Сохранение состояния | ☐ Отметки сохраняются |
| 3.8 | Кнопка "Назад" | ☐ Работает |

---

### 4. Проверки (`/checks`)
**Файл:** `src/app/(main)/checks/page.tsx`
**Компонент:** `src/components/checks/ChecksScreen.tsx`

| # | Проверка | Модал | Проверить |
|---|----------|-------|-----------|
| 4.1 | Запрет на въезд | BanCheckerModal | ☐ Форма, API, результат |
| 4.2 | Проверка паспорта | PassportValidityModal | ☐ Форма, валидация |
| 4.3 | Проверка патента | PatentCheckModal | ☐ Форма, API |
| 4.4 | Проверка ИНН | INNCheckModal | ☐ Форма, API |
| 4.5 | ФССП | FSSPCheckModal | ☐ Форма, API |
| 4.6 | Разрешение на работу | WorkPermitCheckModal | ☐ Форма |
| 4.7 | ГИБДД | GIBDDCheckModal | ☐ Форма |
| 4.8 | Права мигранта | RightsModal | ☐ Информация отображается |

---

### 5. SOS (`/sos`)
**Файл:** `src/app/(main)/sos/page.tsx`
**Компонент:** `src/components/sos/SOSScreen.tsx`

| # | Элемент | Проверить |
|---|---------|-----------|
| 5.1 | Экстренные номера | ☐ Кликабельны, звонок |
| 5.2 | Горячие линии | ☐ Номера отображаются |
| 5.3 | Посольства | ☐ Контакты по странам |
| 5.4 | Руководства | ☐ Инструкции доступны |
| 5.5 | Локализация | ☐ 5 языков работают |

---

### 6. Вход/Регистрация (`/login`)
**Файл:** `src/app/(main)/login/page.tsx`

| # | Элемент | Проверить |
|---|---------|-----------|
| 6.1 | Форма входа | ☐ Поля, валидация |
| 6.2 | Форма регистрации | ☐ Переключение, поля |
| 6.3 | Device Auth | ☐ Анонимная авторизация |
| 6.4 | Редирект после входа | ☐ На главную |

---

### 7. Документы (`/documents`)
**Файл:** `src/app/(main)/documents/page.tsx`

| # | Тип документа | Иконка | Проверить |
|---|---------------|--------|-----------|
| 7.1 | Паспорт | CreditCard (синий) | ☐ CRUD работает |
| 7.2 | Миграционная карта | FileText (фиолет) | ☐ CRUD работает |
| 7.3 | Патент | Briefcase (оранж) | ☐ CRUD работает |
| 7.4 | Регистрация | Home (зелёный) | ☐ CRUD работает |
| 7.5 | ИНН | Hash (индиго) | ☐ CRUD работает |
| 7.6 | СНИЛС | UserCheck (бирюза) | ☐ CRUD работает |
| 7.7 | ДМС | HeartPulse (красный) | ☐ CRUD работает |

| # | Функция | Проверить |
|---|---------|-----------|
| 7.8 | Добавить документ | ☐ Форма, сохранение |
| 7.9 | Редактировать | ☐ Форма, обновление |
| 7.10 | Удалить | ☐ Подтверждение, удаление |
| 7.11 | Скачать PDF | ☐ Генерация файла |
| 7.12 | Уведомления о сроках | ☐ Показываются при истечении |

---

### 8. Профиль (`/profile`)
**Файл:** `src/app/(main)/profile/page.tsx`

| # | Поле/Функция | Проверить |
|---|--------------|-----------|
| 8.1 | Имя | ☐ Ввод, сохранение |
| 8.2 | Цель пребывания | ☐ Выбор из списка |
| 8.3 | Дата въезда | ☐ DatePicker работает |
| 8.4 | Гражданство | ☐ Выбор страны |
| 8.5 | Сохранить профиль | ☐ Данные сохраняются |
| 8.6 | Синхронизация | ☐ Auth store обновляется |

---

### 9. Экзамен (`/exam`)
**Файлы:** `src/app/(main)/exam/*.tsx`, `src/features/exam/`

#### 9.1 Главная экзамена
| # | Элемент | Проверить |
|---|---------|-----------|
| 9.1.1 | Выбор режима | ☐ Learning/Practice/Exam/Marathon |
| 9.1.2 | Выбор категории | ☐ Russian/History/Law |
| 9.1.3 | Выбор кол-ва вопросов | ☐ 5/10/20/30 |
| 9.1.4 | Кнопка "Начать" | ☐ Переход к экзамену |

#### 9.2 Сессия экзамена (`/exam/session`)
| # | Элемент | Проверить |
|---|---------|-----------|
| 9.2.1 | Вопрос отображается | ☐ Текст, варианты |
| 9.2.2 | Выбор ответа | ☐ Клик, подсветка |
| 9.2.3 | Кнопка "Далее" | ☐ Переход к следующему |
| 9.2.4 | Прогресс | ☐ Счётчик вопросов |
| 9.2.5 | Результаты | ☐ Итоговый экран |
| 9.2.6 | Лимит бесплатных | ☐ 10 для анонимных |

---

### 10. AI Помощник (`/ai`)
**Файл:** `src/app/(main)/ai/page.tsx`
**Компонент:** `src/components/assistant/AIChatPanel.tsx`

| # | Элемент | Проверить |
|---|---------|-----------|
| 10.1 | Поле ввода | ☐ Ввод текста |
| 10.2 | Отправка сообщения | ☐ Кнопка/Enter |
| 10.3 | Ответ AI | ☐ Отображается |
| 10.4 | История чата | ☐ Сохраняется |
| 10.5 | Лимит бесплатных | ☐ 3 для анонимных |
| 10.6 | Кнопка "Назад" | ☐ Работает |

---

### 11. FAQ (`/faq`)
**Файл:** `src/app/(main)/faq/page.tsx`

| # | Элемент | Проверить |
|---|---------|-----------|
| 11.1 | Заголовок | ☐ Локализация |
| 11.2 | Поиск | ☐ Фильтрация работает |
| 11.3 | Категории | ☐ Фильтр по категориям |
| 11.4 | Аккордеон | ☐ Раскрытие/сворачивание |
| 11.5 | Кнопка "Назад" | ☐ Работает |

#### Категории FAQ:
| # | Категория | Вопросов | Проверить |
|---|-----------|----------|-----------|
| 11.6 | Патент | 5 | ☐ Все отображаются |
| 11.7 | РВП | 4 | ❌ ОТСУТСТВУЕТ |
| 11.8 | Регистрация | 3 | ☐ Все отображаются |
| 11.9 | Документы | 4 | ☐ Все отображаются |
| 11.10 | Права | 6 | ☐ Все отображаются |
| **Итого** | | **22** | ❌ Сейчас только 12 |

---

### 12. Калькулятор 90/180 (`/calculator`)
**Файл:** `src/app/(main)/calculator/page.tsx`

| # | Элемент | Проверить |
|---|---------|-----------|
| 12.1 | Выбор региона | ☐ Москва/СПб/Другие |
| 12.2 | Добавить период | ☐ DatePicker въезд/выезд |
| 12.3 | Удалить период | ☐ Работает |
| 12.4 | Расчёт дней | ☐ Корректный подсчёт |
| 12.5 | Статус | ☐ Safe/Warning/Danger/Overstay |
| 12.6 | Штрафы | ☐ Отображаются по региону |
| 12.7 | Рекомендации | ☐ Показываются |

---

### 13. Справочная (`/reference`)
**Файл:** `src/app/(main)/reference/page.tsx`

| # | Вкладка | Проверить |
|---|---------|-----------|
| 13.1 | Категории | ☐ Список категорий законов |
| 13.2 | Законы | ☐ Поиск, список |
| 13.3 | Формы | ☐ Шаблоны, скачивание |
| 13.4 | FAQ | ☐ Вопросы-ответы |

---

### 14. Оплата патента (`/payment`)
**Файл:** `src/app/(main)/payment/page.tsx`

| # | Элемент | Проверить |
|---|---------|-----------|
| 14.1 | Выбор региона | ☐ Список регионов |
| 14.2 | Текущая ставка | ☐ Отображается |
| 14.3 | Форма оплаты | ☐ Поля, валидация |
| 14.4 | История платежей | ☐ Список (для зарег.) |

---

### 15. Сервисы (`/services`)
**Файл:** `src/app/(main)/services/page.tsx`

| # | Сервис | Проверить |
|---|--------|-----------|
| 15.1 | Карта мигранта | ☐ МВД, ММЦ, медцентры |
| 15.2 | Экзамен по русскому | ☐ Переход на /exam |
| 15.3 | Переводчик | ☐ Внешняя ссылка Яндекс |
| 15.4 | Карта мечетей | ☐ Поиск мечетей |
| 15.5 | Госуслуги (ссылка) | ☐ Открывается |
| 15.6 | ГУВМ МВД (ссылка) | ☐ Открывается |

---

## Локализация

### 16. Проверка языков

| # | Язык | Код | Проверить |
|---|------|-----|-----------|
| 16.1 | Русский | ru | ☐ Все строки |
| 16.2 | English | en | ☐ Все строки |
| 16.3 | O'zbek | uz | ☐ Все строки |
| 16.4 | Тоҷикӣ | tg | ☐ Все строки |
| 16.5 | Кыргызча | ky | ☐ Все строки |

#### Проверить переключение языка на каждой странице:
- ☐ Главная
- ☐ Чек-лист
- ☐ Проверки
- ☐ SOS
- ☐ Документы
- ☐ Экзамен
- ☐ FAQ
- ☐ AI помощник

---

## Общие проверки

### 17. UX/UI
| # | Проверка | Статус |
|---|----------|--------|
| 17.1 | Адаптивность (мобильный вид) | ☐ |
| 17.2 | Анимации плавные | ☐ |
| 17.3 | Loading состояния | ☐ |
| 17.4 | Error состояния | ☐ |
| 17.5 | Empty состояния | ☐ |

### 18. Производительность
| # | Проверка | Статус |
|---|----------|--------|
| 18.1 | Время загрузки страниц | ☐ |
| 18.2 | Lazy loading работает | ☐ |
| 18.3 | Нет memory leaks | ☐ |

### 19. Безопасность
| # | Проверка | Статус |
|---|----------|--------|
| 19.1 | Данные только локально | ☐ |
| 19.2 | Нет XSS уязвимостей | ☐ |
| 19.3 | HTTPS редиректы | ☐ |

---

## Приоритет исправлений

### Критические (блокеры):
1. ❌ FAQ: синхронизировать 22 вопроса с оригинальным FAQModal
2. ❌ FAQ: добавить категорию РВП

### Высокие:
- Проверить все модальные окна проверок
- Проверить работу экзамена

### Средние:
- Проверить локализацию на всех страницах
- Проверить CRUD документов

### Низкие:
- Проверить анимации
- Проверить производительность

---

## Команды для тестирования

```bash
# Запуск dev сервера
cd apps/frontend && npm run dev

# Проверка типов
npm run typecheck

# Сборка
npm run build

# Запуск тестов
npm run test

# E2E тесты
npm run test:e2e
```
