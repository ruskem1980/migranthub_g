# Анализ интерфейса MigrantHub: UX/UI Аудит

> **Дата:** 30 января 2026
> **Версия:** 1.0
> **Автор:** Claude Code Analysis

---

## Оценка задачи

| Критерий | Значение |
|----------|----------|
| Экранов проанализировано | 20+ |
| Компонентов | 50+ |
| Рекомендаций | 35+ |

---

## 1. ТЕКУЩЕЕ СОСТОЯНИЕ: ЧТО ХОРОШО

### Сильные стороны

| Аспект | Оценка | Комментарий |
|--------|--------|-------------|
| **Локализация** | ★★★★★ | 4 языка из коробки, AI-переводы планируются |
| **Offline-first** | ★★★★★ | IndexedDB, sync indicators, offline page |
| **Mobile-first** | ★★★★☆ | Safe areas, touch targets, bottom sheets |
| **Accessibility** | ★★★☆☆ | TTS есть, но ARIA неполный |
| **Визуальная консистентность** | ★★★☆☆ | Tailwind используется, но паттерны разрозненны |

---

## 2. КРИТИЧЕСКИЕ ПРОБЛЕМЫ UX

### 2.1 Когнитивная перегрузка на главном экране

**Проблема:** `HomeScreen.tsx` содержит:
- 4 hero-кнопки с градиентами
- Статус-бейдж + счётчик дней
- Карусель задач
- 8+ модальных окон

**Для целевой аудитории (мигранты с базовым техническим уровнем) это слишком много информации.**

**Рекомендация:**
```
┌─────────────────────────────────────┐
│  [Аватар] Имя        ✓ Статус: ОК  │
│           🇺🇿 Узбекистан    42 дня │
├─────────────────────────────────────┤
│                                     │
│   ┌─────────────────────────────┐   │
│   │  🔔 ТРЕБУЕТ ВНИМАНИЯ        │   │
│   │                             │   │
│   │  Патент истекает через 3 дн │   │
│   │  [Оплатить сейчас]          │   │
│   └─────────────────────────────┘   │
│                                     │
│   ┌───────┐ ┌───────┐ ┌───────┐    │
│   │ 📄    │ │ 🔍    │ │ 📊    │    │
│   │Доки   │ │Проверка│ │Калькул│   │
│   └───────┘ └───────┘ └───────┘    │
│                                     │
└─────────────────────────────────────┘
```

### 2.2 Непонятная иерархия документов

**Проблема:** В `HomeScreen.tsx:642-694` чеклист из 11 документов показывается без группировки.

**Рекомендация:** Визуальная пирамида документов:

```
        ┌─────────────┐
        │  ПАСПОРТ    │  ← Уровень 1: Основа
        └─────────────┘
       ┌───────┬───────┐
       │МИГ.   │РЕГИСТ.│  ← Уровень 2: Въезд
       │КАРТА  │       │
       └───────┴───────┘
    ┌─────┬─────┬─────┬─────┐
    │ПАТЕНТ│ИНН │СНИЛС│ДМС │  ← Уровень 3: Работа
    └─────┴─────┴─────┴─────┘
```

### 2.3 Bottom Navigation слишком абстрактна

**Проблема:** Иконки (ShieldCheck, Wallet, LayoutGrid) не интуитивны для ЦА.

**Текущее:**
```
Home | Documents | Services | Assistant | SOS
 🛡️  |    👛     |    📱    |    🤖    | 🚨
```

**Рекомендация:**
```
Главная | Документы | Сервисы | Помощь | SOS
  🏠    |    📁     |   🔧   |   💬   | 🆘
```
+ Текстовые подписи ВСЕГДА видимы (не только при активации)

---

## 3. ПРОБЛЕМЫ ВИЗУАЛИЗАЦИИ

### 3.1 Избыток градиентов

**Проблема:** В HomeScreen 4 hero-кнопки используют сложные градиенты:
- `from-blue-600 via-blue-500 to-cyan-600`
- `from-amber-500 via-orange-500 to-red-500`
- `from-teal-500 via-emerald-500 to-green-600`
- `from-indigo-500 via-purple-500 to-violet-600`

Это создаёт визуальный шум и конкурирует за внимание.

**Рекомендация:** Семантическая цветовая система:

| Цвет | Значение | Использование |
|------|----------|---------------|
| 🟢 Green | Безопасно / Готово | Статус "Легальный", успешные операции |
| 🟡 Yellow | Внимание | Документы истекают скоро |
| 🔴 Red | Срочно / Опасно | SOS, критические дедлайны |
| 🔵 Blue | Нейтральное действие | Основные кнопки, навигация |
| ⚪ Gray | Вторичное | Неактивные элементы, подписи |

### 3.2 Отсутствие визуального прогресса

**Проблема:** Пользователь не видит свой "путь легализации".

**Рекомендация:** Roadmap-визуализация:

```
┌─────────────────────────────────────────────────────┐
│  ВАШ ПУТЬ К ЛЕГАЛЬНОМУ СТАТУСУ                      │
│                                                     │
│  [✓]━━━[✓]━━━[●]━━━[ ]━━━[ ]━━━[ ]                 │
│   │     │     │     │     │     │                  │
│  Въезд Рег.  Патент ИНН  СНИЛС ДМС                 │
│                 ↑                                   │
│            ВЫ ЗДЕСЬ                                 │
│                                                     │
│  Прогресс: 40% (4 из 10 документов)                │
└─────────────────────────────────────────────────────┘
```

### 3.3 Калькулятор 90/180 дней

**Текущее:** Круговой прогресс — хорошо, но требует контекста.

**Рекомендация:** Добавить timeline:

```
┌─────────────────────────────────────────┐
│     ЯНВАРЬ 2026                         │
│  ПН ВТ СР ЧТ ПТ СБ ВС                   │
│  ██ ██ ██ ██ ██ ░░ ░░  ← Зелёный = в РФ │
│  ██ ██ ██ ██ ██ ░░ ░░  ← Серый = выезд  │
│  ██ ██ ██ ██ ░░ ░░ ░░                   │
│                                         │
│  Использовано: 67/90 дней               │
│  ⚠️ Рекомендуем выехать до 15 февраля  │
└─────────────────────────────────────────┘
```

---

## 4. УЛУЧШЕНИЯ ФОРМ

### 4.1 PassportForm — Слишком много полей сразу

**Проблема:** Форма паспорта показывает все 15+ полей одновременно.

**Рекомендация:** Wizard-подход:

```
Шаг 1/4: Основные данные
┌─────────────────────────────────────┐
│  Фамилия: [________________]        │
│  Имя:     [________________]        │
│  Отчество:[________________] (опц.) │
│                                     │
│         [Далее →]                   │
└─────────────────────────────────────┘

Шаг 2/4: Паспортные данные
┌─────────────────────────────────────┐
│  Серия/Номер: [____] [__________]   │
│  Дата выдачи: [__/__/____]          │
│  Срок действия: [__/__/____]        │
│                                     │
│     [← Назад]    [Далее →]          │
└─────────────────────────────────────┘
```

### 4.2 Умные поля ввода для ЦА

**Проблема:** Стандартные `<input type="date">` непонятны пользователям.

**Рекомендация:**
- Дата рождения: 3 отдельных dropdown (День / Месяц / Год)
- Номер паспорта: маска с автоформатированием
- ФИО: автокапитализация первой буквы

```tsx
// Вместо:
<input type="date" />

// Использовать:
<DatePicker
  labels={{ day: 'День', month: 'Месяц', year: 'Год' }}
  format="DD MMMM YYYY"
  locale={language}
/>
```

### 4.3 Сканер документов

**Рекомендация:** Визуальные подсказки при сканировании:

```
┌─────────────────────────────────────┐
│  📷 СКАНИРУЙТЕ ПАСПОРТ              │
│                                     │
│  ┌───────────────────────────────┐  │
│  │  ┌─────┐                      │  │
│  │  │ФОТО │  ← Разместите фото   │  │
│  │  └─────┘    в этой области    │  │
│  │                               │  │
│  │  ─────────────────────────    │  │
│  │  ← MRZ зона (нижние строки)   │  │
│  └───────────────────────────────┘  │
│                                     │
│  💡 Совет: Убедитесь в хорошем      │
│     освещении                       │
└─────────────────────────────────────┘
```

---

## 5. ПЕРЕФОРМАТ ЭКРАНОВ

### 5.1 Welcome Screen — Добавить социальное доказательство

```
┌─────────────────────────────────────┐
│         🛡️ MigrantHub              │
│                                     │
│   "Уже 50,000+ мигрантов            │
│    используют приложение"           │
│                                     │
│   ⭐⭐⭐⭐⭐ 4.8 в App Store         │
│                                     │
│   ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐  │
│   │ 🇷🇺  │ │ 🇺🇿  │ │ 🇹🇯  │ │ 🇰🇬  │  │
│   │ РУС │ │O'ZB │ │ ТОҶ │ │ КЫР │  │
│   └─────┘ └─────┘ └─────┘ └─────┘  │
│                                     │
│       [Начать →]                    │
│                                     │
│   Уже есть код?                     │
│   [Восстановить доступ]             │
└─────────────────────────────────────┘
```

### 5.2 Dashboard — Карточки приоритетов

```
┌─────────────────────────────────────┐
│ Привет, Алишер! 👋                  │
│ Статус: ✅ Легальный  |  42 дня     │
├─────────────────────────────────────┤
│                                     │
│ 🔴 СРОЧНО (1)                       │
│ ┌─────────────────────────────────┐ │
│ │ Патент истекает 3 февраля       │ │
│ │ Сумма к оплате: 7,500₽          │ │
│ │ [Оплатить]           [Подробнее]│ │
│ └─────────────────────────────────┘ │
│                                     │
│ 🟡 СКОРО (2)                        │
│ ┌─────────────────────────────────┐ │
│ │ Регистрация — продлить до 15.02 │ │
│ │ ДМС — обновить до 28.02         │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ✅ ВСЁ В ПОРЯДКЕ                    │
│ Паспорт, Миг.карта, ИНН, СНИЛС     │
│                                     │
└─────────────────────────────────────┘
```

### 5.3 Documents — Визуальная иерархия

```
┌─────────────────────────────────────┐
│ 📁 Мои документы                    │
├─────────────────────────────────────┤
│                                     │
│ ОСНОВА                              │
│ ┌─────────────────────────────────┐ │
│ │ 🛂 Паспорт          ✅ Действит.│ │
│ │    до 15.03.2028                │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ПРЕБЫВАНИЕ                          │
│ ┌────────────────┐ ┌──────────────┐ │
│ │ 🎫 Миг.карта   │ │ 📋 Регистр. │ │
│ │ ✅ 01.01.2026 │ │ ⚠️ 15.02    │ │
│ └────────────────┘ └──────────────┘ │
│                                     │
│ РАБОТА                              │
│ ┌────────┐┌────────┐┌────────┐     │
│ │📄Патент││🔢 ИНН ││💳СНИЛС│      │
│ │🔴 3дн  ││✅     ││✅     │      │
│ └────────┘└────────┘└────────┘     │
│                                     │
│ [+ Добавить документ]               │
└─────────────────────────────────────┘
```

### 5.4 Exam — Геймификация

```
┌─────────────────────────────────────┐
│ 📚 Подготовка к экзамену            │
├─────────────────────────────────────┤
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ Ваш уровень: НАЧИНАЮЩИЙ         │ │
│ │ ████████░░░░░░░░░░░░ 40%        │ │
│ │                                 │ │
│ │ 🏆 До следующего уровня: 60 XP  │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ВЫБЕРИТЕ ТЕМУ:                      │
│                                     │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐│
│ │🗣️       │ │📜       │ │⚖️       ││
│ │ Русский │ │ История │ │ Законы  ││
│ │ язык    │ │         │ │         ││
│ │         │ │         │ │         ││
│ │ 65%     │ │ 40%     │ │ 25%     ││
│ │ ████░░  │ │ ██░░░░  │ │ █░░░░░  ││
│ └─────────┘ └─────────┘ └─────────┘│
│                                     │
│ [🎯 Пройти тест]                    │
│ [📖 Режим обучения]                 │
└─────────────────────────────────────┘
```

---

## 6. РЕКОМЕНДАЦИИ ПО ЮЗАБИЛИТИ

### 6.1 Onboarding — Прогрессивное раскрытие

| Шаг | Что показываем | Что скрываем |
|-----|----------------|--------------|
| 1 | Выбор языка | Всё остальное |
| 2 | Гражданство + Цель визита | Документы |
| 3 | Базовые документы (паспорт, миг.карта) | Продвинутые |
| 4 | Dashboard в упрощённом виде | Все сервисы |

### 6.2 Контекстные подсказки

```tsx
// Добавить компонент Tooltip с объяснениями:
<Tooltip content="Патент нужен для легальной работы в РФ">
  <span>Патент на работу</span>
  <HelpCircle className="w-4 h-4 text-gray-400" />
</Tooltip>
```

### 6.3 Умные уведомления

| Событие | Когда | Формат |
|---------|-------|--------|
| Патент истекает | 30, 14, 7, 3, 1 день | Push + In-app |
| Регистрация | 14, 7, 3 дня | Push |
| 90 дней подходят | 10, 5, 3 дня | Push + Calendar |
| Успешная оплата | Сразу | In-app toast |

### 6.4 Accessibility улучшения

```tsx
// Добавить во все интерактивные элементы:
<button
  aria-label={t('buttons.payPatent')}
  aria-describedby="patent-deadline"
  role="button"
>
  Оплатить
</button>
<span id="patent-deadline" className="sr-only">
  Срок оплаты: 3 февраля 2026
</span>
```

---

## 7. ПРИОРИТИЗАЦИЯ ИЗМЕНЕНИЙ

### Фаза 1: Quick Wins (1-2 дня)

- [ ] Увеличить размер текста в navigation labels
- [ ] Убрать избыточные градиенты
- [ ] Добавить группировку документов
- [ ] Фиксированные подписи в bottom nav

### Фаза 2: UX Improvements (3-5 дней)

- [ ] Wizard-подход для форм документов
- [ ] Roadmap-визуализация прогресса
- [ ] Calendar-view в калькуляторе
- [ ] Улучшенные date pickers

### Фаза 3: Major Redesign (1-2 недели)

- [ ] Редизайн HomeScreen с приоритетами
- [ ] Геймификация экзамена
- [ ] Новая карточная система документов
- [ ] Полная accessibility audit

---

## 8. КЛЮЧЕВЫЕ ФАЙЛЫ ДЛЯ ИЗМЕНЕНИЙ

### UI компоненты
- `apps/frontend/src/components/ui/Button.tsx`
- `apps/frontend/src/components/ui/Input.tsx`
- `apps/frontend/src/components/ui/Card.tsx`
- `apps/frontend/src/components/ui/Modal.tsx`

### Главные экраны
- `apps/frontend/src/components/prototype/DashboardLayout.tsx`
- `apps/frontend/src/components/prototype/dashboard/HomeScreen.tsx`
- `apps/frontend/src/components/prototype/dashboard/DocumentsScreen.tsx`
- `apps/frontend/src/components/prototype/dashboard/ServicesScreen.tsx`

### Формы документов
- `apps/frontend/src/features/documents/components/PassportForm.tsx`
- `apps/frontend/src/features/documents/components/PatentForm.tsx`
- `apps/frontend/src/features/profile/components/ProfileForm.tsx`

### Стили
- `apps/frontend/src/app/globals.css`
- `apps/frontend/tailwind.config.ts`

---

## 9. СТРУКТУРА FRONTEND

```
apps/frontend/src/
├── app/
│   ├── layout.tsx (Root Layout)
│   ├── page.tsx (Редирект на /welcome)
│   ├── globals.css
│   ├── (auth)/
│   │   ├── layout.tsx
│   │   ├── welcome/page.tsx
│   │   ├── auth/method/page.tsx
│   │   ├── auth/phone/page.tsx
│   │   ├── auth/otp/page.tsx
│   │   ├── recovery/page.tsx
│   │   └── onboarding/page.tsx
│   ├── (main)/
│   │   ├── layout.tsx
│   │   ├── dashboard/page.tsx
│   │   ├── documents/page.tsx
│   │   ├── documents/[id]/page.tsx
│   │   ├── exam/page.tsx
│   │   ├── exam/start/page.tsx
│   │   ├── exam/session/page.tsx
│   │   ├── services/page.tsx
│   │   ├── calculator/page.tsx
│   │   ├── payment/page.tsx
│   │   ├── profile/page.tsx
│   │   └── reference/page.tsx
│   └── offline/page.tsx
├── components/
│   ├── prototype/
│   │   └── DashboardLayout.tsx
│   ├── ui/
│   ├── documents/
│   └── settings/
├── features/
│   ├── exam/
│   ├── documents/
│   ├── services/
│   ├── payments/
│   └── profile/
└── lib/
    ├── stores/
    ├── hooks/
    ├── i18n/
    └── db/
```

---

## 10. MOCKUPS ДЛЯ РЕАЛИЗАЦИИ

Для реализации рекомендаций доступны следующие направления:

1. **Редизайн HomeScreen** — новая структура с приоритетами
2. **Wizard-формы документов** — пошаговый ввод
3. **Геймификация экзамена** — прогресс, XP, уровни
4. **Визуализация документов** — пирамида/roadmap
5. **Улучшение калькулятора** — calendar timeline

---

## Приложение A: Текущие скриншоты

Скриншоты расположены в: `apps/frontend/e2e/screenshots/`

| Экран | Файл |
|-------|------|
| Welcome | `02-welcome.png` |
| Recovery | `03-recovery.png` |
| Auth Phone | `04-auth-phone.png` |
| Auth OTP | `05-auth-otp.png` |
| Services | `07-services-initial.png` |
| Calculator | `08-calculator-initial.png` |
| Documents | `09-documents-list.png` |
| Profile | `10-profile.png` |
| Exam Home | `11-exam-home.png` |
| Exam Start | `12-exam-start.png` |
| Exam Session | `13-exam-session.png` |
| Reference | `14-reference-initial.png` |
| Payment | `15-payment.png` |
| Offline | `17-offline.png` |

---

## Приложение B: Целевая аудитория

**Основной профиль пользователя:**
- **География:** Трудовые мигранты из стран СНГ (Узбекистан, Таджикистан, Кыргызстан)
- **Возраст:** 18-55 лет
- **Технический уровень:** Базовый
- **Языки:** Русский, узбекский, таджикский, кыргызский

**Персона: Алишер, 29 лет, Узбекистан**
1. Хочу хранить все документы в одном месте
2. Боюсь пропустить оплату патента
3. Не понимаю, какие документы мне нужны
4. Хочу быстро проверить, нет ли у меня запрета на въезд
5. Нужно посчитать, сколько дней я могу находиться в стране
6. Хочу получать уведомления о сроках истечения документов
7. Хочу чтобы данные не потерялись (резервная копия)
