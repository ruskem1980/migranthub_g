# QA Checklist - Lazy Auth UX Redesign

> Дата создания: 2026-01-30
> Версия: 1.0

## Анонимный режим

### Dashboard (/dashboard)
- [ ] Приложение открывается на /dashboard
- [ ] Показывается AnonymousDashboard для незарегистрированных
- [ ] Header с логотипом отображается
- [ ] SOS секция (SOSQuickAccess) видна
- [ ] Калькуляторы секция (CalculatorsSection) видна
- [ ] Проверки секция (ChecksSection) видна
- [ ] Полезное секция (UsefulSection) видна
- [ ] ConversionBanner показывается

### SOS (/sos)
- [ ] SOS страница доступна без регистрации
- [ ] Экстренные номера отображаются (112, 102, 103, 101)
- [ ] Горячие линии отображаются (миграционная служба, полиция)
- [ ] Посольства отображаются с возможностью звонка
- [ ] Памятки (гайды) открываются в модальном окне
- [ ] EmergencyServiceCard отображает правильные иконки
- [ ] HotlineCard показывает описание
- [ ] EmbassyCard показывает адрес и контакты
- [ ] GuideCard открывает EmergencyGuideModal

### Калькуляторы (/calculator)
- [ ] Страница калькуляторов доступна
- [ ] 90/180 калькулятор работает
- [ ] Патент калькулятор работает
- [ ] При попытке сохранить результат открывается QuickRegistrationSheet
- [ ] FeatureGate корректно блокирует функции

### Проверки (/checks)
- [ ] Страница /checks доступна
- [ ] Все 5 проверок отображаются:
  - [ ] Патент (бесплатно)
  - [ ] Разрешение на работу (бесплатно)
  - [ ] Действительность паспорта (бесплатно)
  - [ ] Штрафы ГИБДД (бесплатно)
  - [ ] ФССП (Plus)
- [ ] ФССП заблокирован значком замка (Plus)
- [ ] Бесплатные проверки открывают модальные окна
- [ ] CheckResult показывает результаты проверки
- [ ] CheckCard отображает иконки и описания

### Чек-лист (/checklist)
- [ ] Страница доступна
- [ ] Показывается контент для анонимных пользователей

### Навигация (BottomNavigation)
- [ ] Bottom Navigation отображается внизу экрана
- [ ] Для анонимных показывает: Главная, Чек-лист, Проверки, SOS, Войти
- [ ] SOS выделен красным цветом
- [ ] Активная вкладка выделена
- [ ] Все ссылки работают корректно
- [ ] Иконки отображаются

### Вход (/login)
- [ ] Страница входа доступна
- [ ] Показывает преимущества регистрации
- [ ] Кнопки входа работают

## Регистрация

### Quick Registration (QuickRegistrationSheet)
- [ ] Открывается при триггере (сохранение результата калькулятора)
- [ ] Отображает 3 поля:
  - [ ] Гражданство (выпадающий список)
  - [ ] Дата въезда (DatePickerSimple)
  - [ ] Регион пребывания (выпадающий список)
- [ ] Валидация работает (все поля обязательны)
- [ ] Кнопка "Продолжить" активируется после заполнения
- [ ] После регистрации редирект на PersonalDashboard
- [ ] Можно закрыть без регистрации (X или "Продолжить анонимно")

### useQuickRegistration hook
- [ ] isOpen состояние работает
- [ ] open/close функции работают
- [ ] handleSubmit сохраняет данные
- [ ] Редирект после успешной регистрации

## Зарегистрированный режим

### Personal Dashboard (/dashboard)
- [ ] Показывается для зарегистрированных пользователей
- [ ] PersonalHeader отображает приветствие
- [ ] LegalStatusCard показывает статус легальности
- [ ] DeadlinesSection показывает дедлайны
- [ ] DocumentsSection показывает документы
- [ ] QuickActionsSection показывает быстрые действия

### Навигация для зарегистрированных
- [ ] Bottom Navigation: Главная, Документы, Проверки, SOS, Профиль
- [ ] Все ссылки работают
- [ ] Профиль ведет на /profile

### useDeadlines hook
- [ ] Возвращает список дедлайнов
- [ ] Дедлайны отсортированы по дате
- [ ] Критические дедлайны выделены

## Paywall (PaywallSheet)

### Отображение
- [ ] Показывается при превышении лимита
- [ ] 3 плана отображаются (Free, Plus, Pro)
- [ ] PlanCard отображает название, цену, features
- [ ] Переключатель месяц/год работает
- [ ] Годовая цена показывает экономию

### Функциональность
- [ ] Кнопки выбора плана работают
- [ ] usePaywall hook возвращает корректное состояние
- [ ] isOpen/close работают
- [ ] onSelectPlan вызывается

### Конфигурация планов (subscription-plans.ts)
- [ ] Free план имеет ограничения
- [ ] Plus план открывает ФССП
- [ ] Pro план открывает все

## UI Компоненты

### QuickActionCard
- [ ] Отображает иконку
- [ ] Отображает заголовок
- [ ] onClick работает
- [ ] Стили применяются

### SectionHeader
- [ ] Отображает заголовок
- [ ] Отображает action (если передан)
- [ ] Стили применяются

### ConversionBanner
- [ ] Отображает преимущества регистрации
- [ ] Кнопка "Зарегистрироваться" работает
- [ ] Можно скрыть (X)

### FeatureGate
- [ ] Блокирует контент для анонимных
- [ ] Показывает fallback
- [ ] Пропускает контент для зарегистрированных

### EmergencyButton
- [ ] Красный цвет
- [ ] Иконка отображается
- [ ] onClick/href работают

## Общее качество

### TypeScript
- [ ] `npm run typecheck` проходит без ошибок
- [ ] Нет any типов без необходимости

### Build
- [ ] `npm run build` проходит успешно
- [ ] Нет критических warnings

### Браузер
- [ ] Нет console.error в браузере
- [ ] Нет unhandled Promise rejections
- [ ] Нет React warnings

### Responsive дизайн
- [ ] Mobile (375px) - корректно
- [ ] Tablet (768px) - корректно
- [ ] Desktop (1024px+) - корректно

### Производительность
- [ ] LCP < 2.5s
- [ ] FID < 100ms
- [ ] CLS < 0.1

## Данные

### emergency-contacts.ts
- [ ] Все экстренные номера корректны
- [ ] Горячие линии актуальны
- [ ] Посольства с правильными контактами

### registration-options.ts
- [ ] Список стран полный
- [ ] Список регионов России полный

### subscription-plans.ts
- [ ] Цены корректны
- [ ] Features соответствуют плану

## Интеграция

### conversionStore
- [ ] hasSeenOnboarding сохраняется
- [ ] registrationCompleted работает
- [ ] Триггеры регистрации срабатывают

### Роутинг
- [ ] Middleware корректно определяет статус
- [ ] Редиректы работают
- [ ] Protected routes защищены

---

## Результаты тестирования

| Категория | Пройдено | Не пройдено | Заблокировано |
|-----------|----------|-------------|---------------|
| Анонимный режим | | | |
| Регистрация | | | |
| Зарегистрированный режим | | | |
| Paywall | | | |
| UI Компоненты | | | |
| Общее качество | | | |
| Данные | | | |
| Интеграция | | | |

### Критические баги
1.

### Некритические баги
1.

### Улучшения на будущее
1.

---

**Тестировщик:** _______________
**Дата:** _______________
**Версия:** 1.0
